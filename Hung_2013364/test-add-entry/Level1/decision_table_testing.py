# Generated by Selenium IDE
import os
import time
import unittest
from selenium import webdriver
from selenium.webdriver.common.by import By
from file_generator import create_file

class TestAddEntry(unittest.TestCase):
  def setup(self):
    self.current_dir = os.path.dirname(os.path.abspath(__file__))
    options = webdriver.ChromeOptions()
    options.add_experimental_option('excludeSwitches', ['enable-logging'])
    self.driver = webdriver.Chrome(options=options)
    self.vars = {}   
    self.driver.maximize_window()
    self.driver.get("https://school.moodledemo.net/enrol/index.php?id=57")
    self.driver.find_element(By.ID, "username").send_keys("student") 
    self.driver.find_element(By.ID, "password").send_keys("moodle")
    self.driver.find_element(By.ID, "loginbtn").click()
  def teardown(self):
    self.driver.quit()
  
  def testcase1(self):
    self.setup()
    self.driver.find_element(By.XPATH, "//li[3]/div/h3/a").click()
    self.driver.find_element(By.XPATH, "//li[3]/div/div[2]/div/div/div/div/a").click()
    self.driver.find_element(By.XPATH, "//button[contains(.,\'Add entry\')]").click()
    self.driver.execute_script("window.scrollTo(0,0)")
    self.driver.find_element(By.XPATH, "//div[2]/input").click()
    self.driver.find_element(By.XPATH, "//div[2]/input").send_keys("Testcase 1")
    time.sleep(15)
    self.driver.switch_to.frame(0)
    time.sleep(3)
    self.driver.find_element(By.CSS_SELECTOR, "html").click()
    element = self.driver.find_element(By.ID, "tinymce")
    time.sleep(10)
    self.driver.execute_script("if(arguments[0].contentEditable === 'true') {arguments[0].innerText = 'Testcase 1'}", element)
    time.sleep(10)
    self.driver.switch_to.default_content()
    self.driver.find_element(By.XPATH, "//div[4]/div/div[2]/div/div").click()
    time.sleep(10)
    file_path = os.path.join(self.current_dir, 'files', '9MB.txt')
    self.driver.find_element(By.XPATH, "//form/div/div/div/input").send_keys(file_path)
    self.driver.find_element(By.XPATH, "//button[contains(.,\'Upload this file\')]").click()
    time.sleep(15)
    self.driver.find_element(By.XPATH, "//div[3]/div/div/span/button").click()
    self.driver.find_element(By.XPATH, "//div[3]/div/div/span/button").click()
    self.teardown()
    
  def testcase3(self):
    self.setup()
    self.driver.find_element(By.XPATH, "//li[3]/div/h3/a").click()
    self.driver.find_element(By.XPATH, "//li[3]/div/div[2]/div/div/div/div/a").click()
    self.driver.find_element(By.XPATH, "//button[contains(.,\'Add entry\')]").click()
    self.driver.execute_script("window.scrollTo(0,0)")
    self.driver.find_element(By.XPATH, "//div[2]/input").click()
    self.driver.find_element(By.XPATH, "//div[2]/input").send_keys("Testcase 3")
    time.sleep(15)
    self.driver.switch_to.frame(0)
    time.sleep(3)
    self.driver.find_element(By.CSS_SELECTOR, "html").click()
    element = self.driver.find_element(By.ID, "tinymce")
    time.sleep(3)
    self.driver.execute_script("if(arguments[0].contentEditable === 'true') {arguments[0].innerText = 'Testcase 3'}", element)
    time.sleep(10)
    self.driver.switch_to.default_content()
    self.driver.find_element(By.XPATH, "//div[4]/div/div[2]/div/div").click()
    time.sleep(3)
    file_path = os.path.join(self.current_dir, 'files', '1byte.txt')
    self.driver.find_element(By.XPATH, "//form/div/div/div/input").send_keys(file_path)
    self.driver.find_element(By.XPATH, "//button[contains(.,\'Upload this file\')]").click()
    time.sleep(15)
    self.driver.find_element(By.XPATH, "//span/input").click()
    self.teardown()
    
  def testcase4(self):
    self.setup()
    self.driver.find_element(By.XPATH, "//li[3]/div/h3/a").click()
    self.driver.find_element(By.XPATH, "//li[3]/div/div[2]/div/div/div/div/a").click()
    self.driver.find_element(By.XPATH, "//button[contains(.,\'Add entry\')]").click()
    self.driver.execute_script("window.scrollTo(0,0)")
    self.driver.find_element(By.XPATH, "//div[2]/input").click()
    self.driver.find_element(By.XPATH, "//div[2]/input").send_keys("able")
    time.sleep(15)
    self.driver.switch_to.frame(0)
    time.sleep(3)
    self.driver.find_element(By.CSS_SELECTOR, "html").click()
    element = self.driver.find_element(By.ID, "tinymce")
    time.sleep(3)
    self.driver.execute_script("if(arguments[0].contentEditable === 'true') {arguments[0].innerText = 'Testcase 4'}", element)
    time.sleep(10)
    self.driver.switch_to.default_content()
    self.driver.find_element(By.XPATH, "//div[4]/div/div[2]/div/div").click()
    time.sleep(3)
    file_path = os.path.join(self.current_dir, 'files', '1byte.txt')
    self.driver.find_element(By.XPATH, "//form/div/div/div/input").send_keys(file_path)
    self.driver.find_element(By.XPATH, "//button[contains(.,\'Upload this file\')]").click()
    time.sleep(15)
    self.driver.find_element(By.XPATH, "//span/input").click()
    self.teardown()
  
  def testcase5(self):
    self.setup()
    self.driver.find_element(By.XPATH, "//li[3]/div/h3/a").click()
    self.driver.find_element(By.XPATH, "//li[3]/div/div[2]/div/div/div/div/a").click()
    self.driver.find_element(By.XPATH, "//button[contains(.,\'Add entry\')]").click()
    self.driver.execute_script("window.scrollTo(0,0)")
    self.driver.find_element(By.XPATH, "//div[2]/input").click()
    self.driver.find_element(By.XPATH, "//div[2]/input").send_keys("Testcase 5")
    time.sleep(15)
    self.driver.switch_to.frame(0)
    time.sleep(3)
    self.driver.find_element(By.CSS_SELECTOR, "html").click()
    element = self.driver.find_element(By.ID, "tinymce")
    time.sleep(3)
    self.driver.execute_script("if(arguments[0].contentEditable === 'true') {arguments[0].innerText = ''}", element)
    time.sleep(30)
    self.driver.switch_to.default_content()
    self.driver.find_element(By.XPATH, "//div[4]/div/div[2]/div/div").click()
    time.sleep(3)
    file_path = os.path.join(self.current_dir, 'files', '1byte.txt')
    self.driver.find_element(By.XPATH, "//form/div/div/div/input").send_keys(file_path)
    self.driver.find_element(By.XPATH, "//button[contains(.,\'Upload this file\')]").click()
    time.sleep(15)
    self.driver.find_element(By.XPATH, "//span/input").click()
    self.teardown()
    
  def testcase6(self):
    self.setup()
    self.driver.find_element(By.XPATH, "//li[3]/div/h3/a").click()
    self.driver.find_element(By.XPATH, "//li[3]/div/div[2]/div/div/div/div/a").click()
    self.driver.find_element(By.XPATH, "//button[contains(.,\'Add entry\')]").click()
    self.driver.execute_script("window.scrollTo(0,0)")
    time.sleep(15)
    self.driver.switch_to.frame(0)
    time.sleep(3)
    self.driver.find_element(By.CSS_SELECTOR, "html").click()
    element = self.driver.find_element(By.ID, "tinymce")
    time.sleep(3)
    self.driver.execute_script("if(arguments[0].contentEditable === 'true') {arguments[0].innerText = 'Testcase 6'}", element)
    time.sleep(15)
    self.driver.switch_to.default_content()
    self.driver.find_element(By.XPATH, "//div[4]/div/div[2]/div/div").click()
    time.sleep(3)
    file_path = os.path.join(self.current_dir, 'files', '1byte.txt')
    self.driver.find_element(By.XPATH, "//form/div/div/div/input").send_keys(file_path)
    self.driver.find_element(By.XPATH, "//button[contains(.,\'Upload this file\')]").click()
    time.sleep(15)
    self.driver.find_element(By.XPATH, "//span/input").click()
    self.teardown()
  
  def testcase7(self):
    self.setup()
    self.driver.find_element(By.XPATH, "//li[3]/div/h3/a").click()
    self.driver.find_element(By.XPATH, "//li[3]/div/div[2]/div/div/div/div/a").click()
    self.driver.find_element(By.XPATH, "//button[contains(.,\'Add entry\')]").click()
    self.driver.execute_script("window.scrollTo(0,0)")
    self.driver.find_element(By.XPATH, "//div[2]/input").click()
    self.driver.find_element(By.XPATH, "//div[2]/input").send_keys("able")
    time.sleep(15)
    self.driver.switch_to.frame(0)
    time.sleep(3)
    self.driver.find_element(By.CSS_SELECTOR, "html").click()
    element = self.driver.find_element(By.ID, "tinymce")
    time.sleep(3)
    self.driver.execute_script("if(arguments[0].contentEditable === 'true') {arguments[0].innerText = ''}", element)
    time.sleep(15)
    self.driver.switch_to.default_content()
    self.driver.find_element(By.XPATH, "//div[4]/div/div[2]/div/div").click()
    time.sleep(3)
    file_path = os.path.join(self.current_dir, 'files', '1byte.txt')
    self.driver.find_element(By.XPATH, "//form/div/div/div/input").send_keys(file_path)
    self.driver.find_element(By.XPATH, "//button[contains(.,\'Upload this file\')]").click()
    time.sleep(15)
    self.driver.find_element(By.XPATH, "//span/input").click()
    self.teardown()

if __name__ == "__main__":
    create_file('9MB.txt', 9437184, 'files')
    create_file('1byte.txt', 1, 'files')
    unittest.main()
  
